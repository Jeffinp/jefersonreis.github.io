function smoothScroll(e){e.preventDefault();const t=this.getAttribute("href");smoothScrollTo(0,document.querySelector(t).offsetTop)}function smoothScrollTo(e,t,o=1e3){const n=window.pageXOffset||window.scrollX||document.documentElement.scrollLeft,l=window.pageYOffset||window.scrollY||document.documentElement.scrollTop,r=e-n,a=t-l,c=(new Date).getTime(),s=(e,t,o,n)=>(e/=n/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t,d=setInterval(()=>{const e=(new Date).getTime()-c,t=s(e,n,r,o),i=s(e,l,a,o);e>=o&&clearInterval(d),window.scroll(t,i)},1e3/60)}function toggleScrollToTopButton(){const e=document.getElementById("scrollToTopBtn");document.body.scrollTop>100||document.documentElement.scrollTop>100?e.classList.add("show"):e.classList.remove("show")}function toggleDarkMode(){document.body.classList.toggle("dark-mode"),localStorage.setItem("darkMode",document.body.classList.contains("dark-mode"))}function openModal(e){const t=document.getElementById("project-modal"),o=document.getElementById("modal-title"),n=document.getElementById("modal-image"),l=document.getElementById("modal-description"),r=document.getElementById("modal-technologies");o.textContent=e.querySelector("h3").textContent,n.src=e.querySelector("img").src,l.textContent=e.querySelector("p").textContent;const a=e.dataset.technologies.split(",");r.innerHTML=a.map(e=>`<li>${e.trim()}</li>`).join(""),t.style.display="block"}function validateForm(e){e.preventDefault();const t=document.getElementById("name"),o=document.getElementById("email"),n=document.getElementById("message");let l=!0;l=validateField(t,"Nome é obrigatório")&&l,l=validateField(o,"Email é obrigatório",isValidEmail)&&l,(l=validateField(n,"Mensagem é obrigatória")&&l)&&(console.log("Form is valid. Sending data..."),e.target.reset())}function validateField(e,t,o=null){const n=e.value.trim();return""===n||o&&!o(n)?(showError(e,t),!1):(clearError(e),!0)}function showError(e,t){const o=e.parentElement;o.querySelector(".error-message").textContent=t,o.classList.add("error")}function clearError(e){const t=e.parentElement;t.querySelector(".error-message").textContent="",t.classList.remove("error")}function isValidEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function debounce(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),e(...n)},t)}}document.addEventListener("DOMContentLoaded",()=>{const e={menuToggle:document.querySelector(".menu-toggle"),navMenu:document.querySelector("nav ul"),links:document.querySelectorAll('a[href^="#"]'),scrollToTopBtn:document.getElementById("scrollToTopBtn"),darkModeToggle:document.getElementById("darkModeToggle"),projectItems:document.querySelectorAll(".project-item"),modal:document.getElementById("project-modal"),closeModal:document.querySelector(".close"),form:document.getElementById("contact-form"),lazyImages:document.querySelectorAll("img.lazy"),fadeInSections:document.querySelectorAll(".fade-in-section"),animateOnScrollElements:document.querySelectorAll("section, .project-item, .skill-item, .timeline-item")};e.menuToggle.addEventListener("click",()=>{e.menuToggle.classList.toggle("active"),e.navMenu.classList.toggle("show")}),e.links.forEach(e=>e.addEventListener("click",smoothScroll)),window.addEventListener("scroll",debounce(toggleScrollToTopButton,100)),e.scrollToTopBtn.addEventListener("click",()=>smoothScrollTo(0,0)),e.darkModeToggle.addEventListener("click",toggleDarkMode),e.projectItems.forEach(e=>{e.querySelector(".project-details-btn").addEventListener("click",()=>openModal(e))}),e.closeModal.addEventListener("click",()=>{e.modal.style.display="none"}),window.addEventListener("click",t=>{t.target==e.modal&&(e.modal.style.display="none")});const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("fade-in"),t.unobserve(e.target))})},{threshold:.1});e.fadeInSections.forEach(e=>t.observe(e));const o=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.src=o.dataset.src,o.classList.remove("lazy"),o.classList.add("loaded"),t.unobserve(o)}})});e.lazyImages.forEach(e=>o.observe(e)),e.form.addEventListener("submit",validateForm),"undefined"!=typeof particlesJS&&particlesJS("particles-js",{particles:{number:{value:100,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!1}},size:{value:3,random:!0,anim:{enable:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.2,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},push:{particles_nb:2}}},retina_detect:!1}),"true"===localStorage.getItem("darkMode")&&document.body.classList.add("dark-mode");const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animated"),n.unobserve(e.target))})},{threshold:.1});e.animateOnScrollElements.forEach(e=>{e.classList.add("animate-on-scroll"),n.observe(e)}),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&document.body.classList.add("safari")}),document.addEventListener("DOMContentLoaded",function(){const e=window.location.href;document.querySelectorAll(".language-switch a").forEach(t=>{e.includes(t.getAttribute("href"))?t.classList.add("active"):t.classList.remove("active")})});